window.matchMedia=window.matchMedia||function(e,t){var n,a=e.documentElement,i=a.firstElementChild||a.firstChild,r=e.createElement("body"),s=e.createElement("div");return s.id="mq-test-1",s.style.cssText="position:absolute;top:-100em",r.style.background="none",r.appendChild(s),function(e){return s.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',a.insertBefore(r,i),n=42==s.offsetWidth,a.removeChild(r),{matches:n,media:e}}}(document),function(){if(window.matchMedia&&window.matchMedia("all").addListener)return!1;var e=window.matchMedia,t=e("only all").matches,n=!1,a=0,i=[],r=function(t){clearTimeout(a),a=setTimeout(function(){for(var t=0,n=i.length;n>t;t++){var a=i[t].mql,r=i[t].listeners||[],s=e(a.media).matches;if(s!==a.matches){a.matches=s;for(var o=0,d=r.length;d>o;o++)r[o].call(window,a)}}},30)};window.matchMedia=function(a){var s=e(a),o=[],d=0;return s.addListener=function(e){t&&(n||(n=!0,window.addEventListener("resize",r,!0)),0===d&&(d=i.push({mql:s,listeners:o})),o.push(e))},s.removeListener=function(e){for(var t=0,n=o.length;n>t;t++)o[t]===e&&o.splice(t,1)},s}}(),function(e){function t(){x(!0)}if(e.respond={},respond.update=function(){},respond.mediaQueriesSupported=e.matchMedia&&e.matchMedia("only all").matches,!respond.mediaQueriesSupported){var n,a,i,r=e.document,s=r.documentElement,o=[],d=[],l=[],m={},h=30,c=r.getElementsByTagName("head")[0]||s,u=r.getElementsByTagName("base")[0],f=c.getElementsByTagName("link"),p=[],v=function(){for(var t,n,a,i,r=f,s=r.length,o=0;s>o;o++)t=r[o],n=t.href,a=t.media,i=t.rel&&"stylesheet"===t.rel.toLowerCase(),n&&i&&!m[n]&&(t.styleSheet&&t.styleSheet.rawCssText?(y(t.styleSheet.rawCssText,n,a),m[n]=!0):(!/^([a-zA-Z:]*\/\/)/.test(n)&&!u||n.replace(RegExp.$1,"").split("/")[0]===e.location.host)&&p.push({href:n,media:a}));g()},g=function(){if(p.length){var e=p.shift();E(e.href,function(t){y(t,e.href,e.media),m[e.href]=!0,g()})}},y=function(e,t,n){var a,i,r,s,l,m=e.match(/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi),h=m&&m.length||0,t=t.substring(0,t.lastIndexOf("/")),c=function(e){return e.replace(/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,"$1"+t+"$2$3")},u=!h&&n,f=0;for(t.length&&(t+="/"),u&&(h=1);h>f;f++)for(a=0,u?(i=n,d.push(c(e))):(i=m[f].match(/@media *([^\{]+)\{([\S\s]+?)$/)&&RegExp.$1,d.push(RegExp.$2&&c(RegExp.$2))),s=i.split(","),l=s.length;l>a;a++)r=s[a],o.push({media:r.split("(")[0].match(/(only\s+)?([a-zA-Z]+)\s?/)&&RegExp.$2||"all",rules:d.length-1,hasquery:r.indexOf("(")>-1,minw:r.match(/\(min\-width:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:r.match(/\(max\-width:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||"")});x()},w=function(){var e,t=r.createElement("div"),n=r.body,a=!1;return t.style.cssText="position:absolute;font-size:1em;width:1em",n||(n=a=r.createElement("body"),n.style.background="none"),n.appendChild(t),s.insertBefore(n,s.firstChild),e=t.offsetWidth,a?s.removeChild(n):n.removeChild(t),e=i=parseFloat(e)},x=function(e){var t="clientWidth",m=s[t],u="CSS1Compat"===r.compatMode&&m||r.body[t]||m,p={},v=f[f.length-1],g=(new Date).getTime();if(e&&n&&h>g-n)return clearTimeout(a),void(a=setTimeout(x,h));n=g;for(var y in o){var E=o[y],T=E.minw,C=E.maxw,M=null===T,S=null===C,$="em";T&&(T=parseFloat(T)*(T.indexOf($)>-1?i||w():1)),C&&(C=parseFloat(C)*(C.indexOf($)>-1?i||w():1)),E.hasquery&&(M&&S||!(M||u>=T)||!(S||C>=u))||(p[E.media]||(p[E.media]=[]),p[E.media].push(d[E.rules]))}for(var y in l)l[y]&&l[y].parentNode===c&&c.removeChild(l[y]);for(var y in p){var b=r.createElement("style"),L=p[y].join("\n");b.type="text/css",b.media=y,c.insertBefore(b,v.nextSibling),b.styleSheet?b.styleSheet.cssText=L:b.appendChild(r.createTextNode(L)),l.push(b)}},E=function(e,t){var n=T();n&&(n.open("GET",e,!0),n.onreadystatechange=function(){4!=n.readyState||200!=n.status&&304!=n.status||t(n.responseText)},4!=n.readyState&&n.send(null))},T=function(){var e=!1;try{e=new XMLHttpRequest}catch(t){e=new ActiveXObject("Microsoft.XMLHTTP")}return function(){return e}}();v(),respond.update=v,e.addEventListener?e.addEventListener("resize",t,!1):e.attachEvent&&e.attachEvent("onresize",t)}}(this);
//# sourceMappingURL=respond.js.map